{
  "name": "logtofile",
  "description": "A simple log writer. Rotation and compression (gzip) are supported.",
  "version": "0.1.4",
  "author": {
    "name": "Sebastien Dolard",
    "email": "sdolard@gmail.com"
  },
  "email": "sdolard@gmail.com",
  "keywords": [
    "log",
    "writter",
    "rotation"
  ],
  "repository": {
    "type": "git",
    "url": "git://github.com/sdolard/node-logtofile.git"
  },
  "main": "lib/logtofile",
  "license": "MIT",
  "scripts": {
    "test": "vows test/vows*.js --spec"
  },
  "engines": {
    "node": ">= 0.6.0"
  },
  "bugs": {
    "url": "https://github.com/sdolard/node-logtofile/issues"
  },
  "licenses": [
    {
      "type": "MIT",
      "url": "https://raw.github.com/sdolard/node-logtofile/master/LICENSE"
    }
  ],
  "dependencies": {
    "vows": ">= 0.6.2"
  },
  "devDependencies": {},
  "homepage": "http://github.com/sdolard/node-logtofile",
  "readme": "# node-logtofile\nA simple log writer for node js. \nRotation and compression (gzip) are supported.\n\n\n* http://nodejs.org\n\n## Installation with npm \n### Installing npm (node package manager: http://npmjs.org/)\n\n```\ncurl http://npmjs.org/install.sh || sh\t\n```\n\n### Installing logtofile\n\n```\n[sudo] npm install [-g] logtofile\n```\n\n\n## Usage\n### Basic \n```javascript\nvar logToFile = require('logtofile');\n\nlog = logToFile.create({\n\t\tdirectory: __dirname,\n\t\tfileName: 'log.txt'\n});\n\nlog.on('error', function(err){\n\t\tconsole.log(\"Error: \", err);\n});\n\nlog.on('writting', function(){\n\t\t// starting to write buffered data\n});\n\nlog.on('write', function(){\n\t\t// something was juste written\n});\n\nlog.on('written', function(filePath){\n\t\t// every buffered data have been written\t\t\n});\n\nlog.on('backuped', function (filePath, newFilePath) {\n\t\t// filePath was renamed to newFilePath\n});\n\nlog.on('gzipping', function (filePath, newFilePath) {\n\t\t// starting to gzip filePath to gzippedFilePath\n});\n\nlog.on('gzipped', function (filePath, newFilePath) {\n\t\t// filePath was gzipped to gzippedFilePath\n});\n\nlog.write(\"hello world\");\n\n```\n\n\n```\n### Generated files\nlogtofile will create log files following this naming convention:\n\toriginal:    fileName [+ '.' +  fileExt]\n\trotation:    filename [+ '.' +  fileExt] + '.' + fileIndex \n\tcompression: filename [+ '.' +  fileExt] + '.' + fileIndex + '.gz'\n\nOlder files have got bigger index:\n-rw-r--r--   1 sebastiend  staff  1769472 14 nov 15:38 benchtest.txt\n-rw-r--r--   1 sebastiend  staff  5242880 14 nov 15:39 benchtest.txt.0\n-rw-r--r--   1 sebastiend  staff  5242880 14 nov 15:40 benchtest.txt.1\n-rw-r--r--   1 sebastiend  staff  5242880 14 nov 15:41 benchtest.txt.2\n-rw-r--r--   1 sebastiend  staff  5242880 14 nov 15:42 benchtest.txt.3\n-rw-r--r--   1 sebastiend  staff  5242880 14 nov 15:43 benchtest.txt.4\n\nOlder files have got bigger index, with gzip enabled\n-rw-r--r--   1 sebastiend  staff  5242880 14 nov 15:40 benchtest.txt\n-rw-r--r--   1 sebastiend  staff     5129 14 nov 15:41 benchtest.txt.0.gz\n-rw-r--r--   1 sebastiend  staff     5129 14 nov 15:42 benchtest.txt.1.gz\n-rw-r--r--   1 sebastiend  staff     5129 14 nov 15:43 benchtest.txt.2.gz\n-rw-r--r--   1 sebastiend  staff     5129 14 nov 15:44 benchtest.txt.3.gz\n-rw-r--r--   1 sebastiend  staff     5129 14 nov 15:45 benchtest.txt.4.gz\n\n```\n\n## Exports \n### 'create'\nReturns a LogToFile instance.\n\n```\n/**\n* @public\n* @class LogToFile\n*\n* @params {string} config.fileName\n* @params {string} config.directory\n* @params {number} [config.writeDelay] Buffer flushed timming (default 200ms)\n* @params {number} [config.bufferSize] Buffer blocks size (default 65536o) \n* @params {number} [config.fileMaxSize] Max file size in octet (default 5MB) \n* @params {number} [config.maxBackupFileNumber] Max backup file number (default 10) \n* @params {boolean} [config.gzipBackupFile] gzip backup files (default false) \n* @params {number} [config.compressionLevel] [1-9] 1: BEST_SPEED, 9: BEST_COMPRESSION, default to 1\n* @params {boolean} [config.verbose] enable verbose mode, default to false\n*\n* @event error({object} exception): when an async exception occured\n* @event writting({string} filePath): when starting to write buffered data\n* @event write(): when something was juste write\n* @event written({string} filePath): when every buffered data  have been written\n* @event backuped({string} filePath, {string} newFilePath): when filePath was renamed to newFilePath\n* @event gzipping({string} filePath, {string} gzippedFilePath): when starting to gzip filePath to gzippedFilePath\n* @event gzipped({string} filePath, {string} gzippedFilePath): when filePath was gzipped to gzippedFilePath\n*\n* @throws EEMPTYFILENAME: when config.filename is not set\n* @throws EEMPTYDIRECTORY: when config.directory is not set\n* @throws EDIRNOTFOUND: when config.directory does not exist\n*/\n\n```\n\n\n## Known issues\n\n\n## Test\nJust run test/run_test.js\n\n## Bench\nJust run test/logtofile-bench.js\n\n```\nBench on my MacBook Pro OS X 10.6.8, 2.53GHz Intel Core 2 Duo (P8700), 7200 HDD with node 0.6.5:\nRunning bench 0. fileMaxSize: 5.00MB, maxBackupFileNumber: 0, gzipBackupFile: 0(-)\n................Total:1.00GB in 21158ms: 48.40MB/s\nRunning bench 1. fileMaxSize: 5.00MB, maxBackupFileNumber: 1, gzipBackupFile: 0(-)\n................Total:1.00GB in 20471ms: 50.02MB/s\nRunning bench 2. fileMaxSize: 5.00MB, maxBackupFileNumber: 1, gzipBackupFile: 1(1)\n................Total:1.00GB in 26901ms: 38.07MB/s\nRunning bench 3. fileMaxSize: 5.00MB, maxBackupFileNumber: 1, gzipBackupFile: 1(9)\n................Total:1.00GB in 33083ms: 30.95MB/s\nRunning bench 4. fileMaxSize: 5.00MB, maxBackupFileNumber: 5, gzipBackupFile: 0(-)\n................Total:1.00GB in 19655ms: 52.10MB/s\nRunning bench 5. fileMaxSize: 5.00MB, maxBackupFileNumber: 5, gzipBackupFile: 1(1)\n................Total:1.00GB in 26803ms: 38.20MB/s\nRunning bench 6. fileMaxSize: 5.00MB, maxBackupFileNumber: 5, gzipBackupFile: 1(9)\n................Total:1.00GB in 33553ms: 30.52MB/s\nRunning bench 7. fileMaxSize: 5.00MB, maxBackupFileNumber: 10, gzipBackupFile: 0(-)\n................Total:1.00GB in 19194ms: 53.35MB/s\nRunning bench 8. fileMaxSize: 5.00MB, maxBackupFileNumber: 10, gzipBackupFile: 1(1)\n................Total:1.00GB in 31797ms: 32.20MB/s\nRunning bench 9. fileMaxSize: 10.00MB, maxBackupFileNumber: 10, gzipBackupFile: 0(-)\n................Total:1.00GB in 19811ms: 51.69MB/s\nRunning bench 10. fileMaxSize: 10.00MB, maxBackupFileNumber: 10, gzipBackupFile: 1(1)\n................Total:1.00GB in 33831ms: 30.27MB/s\nRunning bench 11. fileMaxSize: 10.00MB, maxBackupFileNumber: 10, gzipBackupFile: 1(9)\n................Total:1.00GB in 43417ms: 23.59MB/s\n\n\n```\n```\nBench on my Ubuntu 11.10 desktop, 3GHz Intel Core 2 Duo CPU (E8400), 7200 HDD with node 0.6.6:\nRunning bench 0. fileMaxSize: 5.00MB, maxBackupFileNumber: 0, gzipBackupFile: 0(-)\n................Total:1.00GB in 9212ms: 111.16MB/s\nRunning bench 1. fileMaxSize: 5.00MB, maxBackupFileNumber: 1, gzipBackupFile: 0(-)\n................Total:1.00GB in 8864ms: 115.52MB/s\nRunning bench 2. fileMaxSize: 5.00MB, maxBackupFileNumber: 1, gzipBackupFile: 1(1)\n................Total:1.00GB in 16428ms: 62.33MB/s\nRunning bench 3. fileMaxSize: 5.00MB, maxBackupFileNumber: 1, gzipBackupFile: 1(9)\n................Total:1.00GB in 21796ms: 46.98MB/s\nRunning bench 4. fileMaxSize: 5.00MB, maxBackupFileNumber: 5, gzipBackupFile: 0(-)\n................Total:1.00GB in 8880ms: 115.32MB/s\nRunning bench 5. fileMaxSize: 5.00MB, maxBackupFileNumber: 5, gzipBackupFile: 1(1)\n................Total:1.00GB in 15996ms: 64.02MB/s\nRunning bench 6. fileMaxSize: 5.00MB, maxBackupFileNumber: 5, gzipBackupFile: 1(9)\n................Total:1.00GB in 21910ms: 46.74MB/s\nRunning bench 7. fileMaxSize: 5.00MB, maxBackupFileNumber: 10, gzipBackupFile: 0(-)\n................Total:1.00GB in 21133ms: 48.46MB/s\nRunning bench 8. fileMaxSize: 5.00MB, maxBackupFileNumber: 10, gzipBackupFile: 1(1)\n................Total:1.00GB in 16026ms: 63.90MB/s\nRunning bench 9. fileMaxSize: 10.00MB, maxBackupFileNumber: 10, gzipBackupFile: 0(-)\n................Total:1.00GB in 21358ms: 47.94MB/s\nRunning bench 10. fileMaxSize: 10.00MB, maxBackupFileNumber: 10, gzipBackupFile: 1(1)\n................Total:1.00GB in 15648ms: 65.44MB/s\nRunning bench 11. fileMaxSize: 10.00MB, maxBackupFileNumber: 10, gzipBackupFile: 1(9)\n................Total:1.00GB in 21816ms: 46.94MB/s\n\n\n```\n\n## License\nnode-logtofile is licensed under the MIT license.",
  "_id": "logtofile@0.1.4",
  "_from": "logtofile"
}
